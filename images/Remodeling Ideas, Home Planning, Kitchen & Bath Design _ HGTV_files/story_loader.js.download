var __ENG_STORY_LOADER_VERSION="646-b0a2fe7",_ENG_WIDGETS=_ENG_WIDGETS||[],_ENG_is_google_tag_ran=_ENG_is_google_tag_ran||!1,_ENG_is_yandex_tag_ran=_ENG_is_yandex_tag_ran||!1,_ENG_is_sr_started_loading=_ENG_is_sr_started_loading||!1,_ENG_is_av_started_loading=_ENG_is_av_started_loading||!1,googletag=googletag||{},urlSearchParams=(googletag.cmd=googletag.cmd||[],new URLSearchParams(top.location.search)),storyIdToOpenOnWidgetLoad=urlSearchParams.get("o_s"),ipidKeyValue="string"==typeof storyIdToOpenOnWidgetLoad?"&ipid="+storyIdToOpenOnWidgetLoad:"",storiyaStagingEnv=parseInt(urlSearchParams.get("storiya_staging")),publisher_id_param=Number(urlSearchParams.get("pubid")),website_id_param=Number(urlSearchParams.get("webid")),widget_id_param=Number(urlSearchParams.get("wid")),orig_widget_id_param=Number(urlSearchParams.get("o_wid")),ENG=function(t){this.eng_age="age",this.widget_wrapper_elm_id=t.wwei,this.pid=t.pid||"",this.subid=t.subid||"",this.publisher_id=t.pubid||"",this.website_id=t.webid||"",this.widget_id=t.wid||"",!(storiyaStagingEnv||=t.stg)||orig_widget_id_param&&orig_widget_id_param!=this.widget_id||(this.publisher_id=publisher_id_param||this.publisher_id,this.website_id=website_id_param||this.website_id,this.widget_id=widget_id_param||this.widget_id),this.width=t.width||"",this.height=t.height||"",this.plr_elm_id=t.plreid,this.plr_type=t.plrtid||-1,this.eng_ya="ya",this.show_on_pause=t.issop||0,this.show_on_complete=t.issoc||0,this.show_on_idle=t.issoi||0,this.is_index_page=t.isidx||1,this.is_widget_autorun=t.isar||0,this.is_video_widget=t.isvw||0,this.plr_wmode=t.pwmd||"opaque",this.plr_func_name=t.pfn,this.input_url=t.iurl||null,this.eng_api_pref=t.on?"api":"recs",t.on=t.on||"eng"+this.eng_age+this.eng_ya,this.widget_base_url="//widget."+t.on+".com",this.feed_url="ext1-api."+t.on+".com/gas-api/feed.json",this.recs_url=this.eng_api_pref+"."+t.on+".com/rec-api/getrecs.json",this.recs_url_premium="premium."+t.on+".com/rec-api/getrecs.json",this.multi_widgets_recs_url=this.eng_api_pref+"."+t.on+".com/rec-api/get_mw_recs.json",this.pp_recs_url="api3."+t.on+".com/rec-api/getrecs.json",this.is_do_pp_recs_call=!1,this.exclude_post_url=this.eng_api_pref+"."+t.on+".com/rec-api/outpid.json",this.exclude_post_adn_url=this.eng_api_pref+"."+t.on+".com/rec-api/outpidadn.json",this.event_url=this.eng_api_pref+"."+t.on+".com/rec-api/event.json",this.client_event_url=this.eng_api_pref+"."+t.on+".com/rec-api/clientevent.json",this.default_imgs_url="widget."+t.on+".com/img/",this.aws_images_url="//img9-api."+t.on+".com",this.cdn_images_url="//img9-api."+t.on+".com",this.google_tag_script_url="https://www.googletagservices.com/tag/js/gpt.js",this.default_video_post_btn=this.widget_base_url+"/img/vplay.png",this.doc_ready_called=!1,this.random_id=Math.ceil(1e17*Math.random()),this.cb=t.on+"_cb_"+this.random_id,this.num_of_slides=t.tnos||15,this.min_slides=2,this.jq=null,this.num_of_jq_attempts=50,this.find_wrapper_elm_retries=10,this.widget_idx=0,this.isNoConflictJquery=t.ncjqry||!1,this.scripts_elms=[],this.get_recs_states=[[],["BUFFERING","PLAYING"],[0,2,3],[1]],this.rec_types=["all","eng_story_inner","eng_story_ads","eng_story_outer"],this.widget_wrapper_elm=null,this.widget_add_data=null,this.is_widget_wrapper_dom_ready=!1,this.is_user_initiated_event=!1,this.data_json=null,this.is_real_imps_called=!1,this.visible_posts_and_types=[],this.load_time_start=(new Date).getTime(),this.widget_direction="left",this.widget_op_direction="right",this.click_pixels=t.cpxls||"",this.premium_pub_ids=[158041],this.max_num_of_image_load_retries=6,this.image_load_retries_arr={},this.widget_ready_cb=t.wrcb||null,this.log_types={ALL:"ALL",WARNING:"WARNING",INFO:"INFO",ERROR:"ERROR"},this.log_printout=null,this.pp_recs_website_ids=[],this.total_slides=null,this.get_post_cb="_eng_gpcb_"+this.random_id,this.align_dims_post_ids=[-140621],this.num_of_align_dims_retries=20,this.is_multi_widgets=t.ismw||null,this.is_multi_widgets_initiator=!1,this.exclude_posts_reasons_arr=[{val:1,title:"Uninteresting"},{val:2,title:"Misleading"},{val:3,title:"Offensive"},{val:4,title:"Repetitive"},{val:5,title:"Other"}],this.is_show_exclude_box=!1,this.exclude_posts_box_default_thank_you="Thank You! <br> We will try not to show you this content anymore.",this.srPlayer=null,this.AVPlayer=null,this.externalAdditionalDataTypes={STREAM_RAIL:1,ANY_VIEW:3},this.extVideoTypeNames=["","srail","","aniview"],this.place_holders={WIDTH:"[WIDTH]",HEIGHT:"[HEIGHT]",PAGE_URL:"[PAGE_URL]",DNT:"[DO_NOT_TRACK]",CACHE_BUSTER:"[CACHE_BUSTER]",PAGE_TITLE:"[PAGE_TITLE]",SUB_ID:"[SUB_ID]"},this.ext_video_dims={width:0,height:0},this.ext_video_options={},this.is_super_native=!1,this.ad_real_impression_pixels=[],this.ad_real_impression_js_pixels=[],this.ad_click_pixels=[],this.pixels_consts={ENG_PIXEL_TRACK_IMP:"ENG_PIXEL_TRACK_IMP",ENG_PIXEL_TRACK_RIMP:"ENG_PIXEL_TRACK_RIMP",ENG_PIXEL_TRACK_CLK:"ENG_PIXEL_TRACK_CLK",ENG_PIXEL_TRACK_IMP_JS:"ENG_PIXEL_TRACK_IMP_JS",ENG_PIXEL_TRACK_RIMP_JS:"ENG_PIXEL_TRACK_RIMP_JS",ENG_PIXEL_TRACK_CLK_JS:"ENG_PIXEL_TRACK_CLK_JS"},this.amp_widget_cb=t.ampwcb||null,this.is_amp_widget=t.isampw||!1,this.amp_caller_obj=t.ampobj||null,this.is_cancel_external_jquery_load_try=t.iscnclextjqry||!1,this.is_ext_video_loaded=!1,this.is_sr_blade=!1,this.is_yandx_ran=!1,this.stories=[],this.stories_css_files=[],this.stories_js_files=["_eng_story.js"],this.stories_js_path=this.widget_base_url+"/stories_js/",this.stories_css_path=this.widget_base_url+"/story_css/",this.staging_env_replace_key="$",this.staging_stories_js_file_path="https://stg-static-env0"+this.staging_env_replace_key+".engageya.com/stories_js/_eng_story_staging.js",this.is_stories_js_loaded=!1,this.load_stories_js_num_of_retries=20,this.stories_widget_options={},this.stories_skin={},this.story_item_params={ID:"itemId",TYPE_ID:"typeId",LENGTH:"length",IMAGE_SOURCE:"source",PREVIEW:"preview",LINK:"link",LINK_TEXT:"linkText",TIME:"time",ADDITIONAL_DATA:"itemAddData"},this.client_event_types={WIDGET_ENGAGEMENT:0},this.story_item_types_map=["","photo","video"],this.operator_name=t.on,this.video_ads_tiles=[2,4],this.ext_video_elm=null,this.get_widget_blocking_url="https://widget.engageya.com/rec-api/widget/cache/getwidgetblocking",this.get_widget_blocking_frame_key="_eng_widget_blocking_"+this.widget_id},_eng_do_async_click=((ENG_MULTI_WIDGETS=function(t){ENG.call(this,t),this.input_obj=t,this.multi_widget_ids=t.mwids,this.multi_widget_ids_arr=t.mwids.split(","),this.is_multi_widgets_initiator=!0}).prototype=new ENG({}),ENG.prototype.run=function(){1==this.is_video_widget?this.attach_player_events():this.start_run()},ENG.prototype.is_widget_allowed=function(){let h=()=>{let s,_;return new Promise((i,t)=>{window.addEventListener("message",({data:{engKey:t,widgetBlocking:e}})=>{t===this.get_widget_blocking_frame_key&&i(e)});var e=new URL(this.get_widget_blocking_url);e.searchParams.append("widid",this.widget_id),(_=document.createElement("iframe")).src=e.toString(),_.style="display:none",document.getElementById(this.widget_wrapper_elm_id).append(_);s=setTimeout(()=>t("Couldn't fetch widget blocking after 2000ms"),2e3)}).finally(()=>{clearTimeout(s),_?.remove()})};return new Promise(async(t,e)=>{let i;try{i=await h()}catch(t){return e(t)}if(!i)return t(!0);let{status:s,includeTags:_,excludeTags:n,extractTypes:o,extractSelector:r}=i;if(0==s)return t(!1);if(1==s)return t(!0);if(!_?.length&&!n?.length)return t(!0);let{0:a,1:d,2:l}=o?.reduce((t,e)=>(t[e]=!0,t),{})??{};let p=[];return d&&p.push(...function(){var[,...t]=new URL(window.ENGAGEYA_AMP&&window.ENGAGEYA_AMP.ampURL||top.location.href).pathname.split("/").map(t=>t.toLowerCase());return t}()),(a||l)&&p.push(...(e=[],a&&e.push('meta[property="article:tag"],meta[property="article:section"]'),l&&r&&e.push(r),(e=e.join(","))?[...document.querySelectorAll(e)].map(t=>t.content?.toLowerCase()||t.innerText?.toLowerCase()).flatMap(t=>t.split(",").map(t=>t.trim())):[])),_?.length&&!_.some(t=>p.includes(t.toLowerCase()))||n?.length&&n.some(t=>p.includes(t.toLowerCase()))?t(!1):t(!0)}).catch(t=>(console.error("Failed to check if widget is blocked:\n",t),!1))},ENG.prototype.attach_player_events=function(){1==this.plr_type?this.attach_jwplayer_events():2==this.plr_type?this.attach_flowplayer_events():this.attach_generic_player_events(),1==this.is_widget_autorun&&this.start_run()},ENG.prototype.attach_jwplayer_events=function(){var t=this;jwplayer(this.plr_elm_id).onPlay(function(){t.on_play_action()}),jwplayer(this.plr_elm_id).onBuffer(function(){t.on_play_action()}),jwplayer(this.plr_elm_id).onPause(function(){t.on_pause_action()}),jwplayer(this.plr_elm_id).onIdle(function(){t.on_idle_action()}),jwplayer(this.plr_elm_id).onComplete(function(){t.on_complete_action()}),this.plr_get_state_fnc=jwplayer(this.plr_elm_id).getState,this.state_events()},ENG.prototype.attach_flowplayer_events=function(){var i=this,e=null,e=flowplayer(this.plr_elm_id)?flowplayer(this.plr_elm_id):flowplayer();try{e.onStart(function(){i.on_play_action()}),e.onLoad(function(){i.on_play_action()}),e.getClip().onResume(function(){i.on_play_action()}),e.getClip().onPause(function(){i.on_pause_action()}),e.getClip().onStop(function(){i.on_pause_action()}),e.getClip().onFinish(function(){i.on_complete_action()}),this.plr_get_state_fnc=e.getState}catch(t){e.bind("load",function(t,e){i.on_play_action()}),e.bind("click",function(t,e){i.is_user_initiated_event=!0}),e.bind("resume",function(t,e){i.on_play_action()}),e.bind("pause",function(t,e){i.is_user_initiated_event&&(i.on_pause_action(),i.is_user_initiated_event=!1)}),e.bind("stop",function(t,e){i.on_pause_action()}),e.bind("finish",function(t,e){i.on_complete_action()}),this.plr_get_state_fnc=function(){return 1}}this.state_events()},ENG.prototype.attach_generic_player_events=function(){var t=this;try{var e=window[this.plr_func_name](this.plr_elm_id)}catch(t){}e=(e=e||window[this.plr_func_name])||document.getElementById(this.plr_elm_id);try{e.onStart(function(){t.on_play_action()})}catch(t){}try{e.onLoad(function(){t.on_play_action()})}catch(t){}try{e.onPlaying(function(){t.on_play_action()})}catch(t){}try{e.onplay=function(){t.on_play_action()}}catch(t){}try{e.onPlay(function(){t.on_play_action()})}catch(t){}try{e.onBuffer(function(){t.on_play_action()})}catch(t){}try{e.onResume(function(){t.on_play_action()})}catch(t){}try{e.onPause(function(){t.on_pause_action()})}catch(t){}try{e.onpause=function(){t.on_pause_action()}}catch(t){}try{e.onStop(function(){t.on_pause_action()})}catch(t){}try{e.onFinish(function(){t.on_complete_action()})}catch(t){}try{e.onended=function(){t.on_complete_action()}}catch(t){}try{e.onComplete(function(){t.on_complete_action()})}catch(t){}try{this.plr_get_state_fnc=e.getState||function(){return 1}}catch(t){}this.state_events()},ENG.prototype.on_play_action=function(){this.hide_widget(this),this.start_run()},ENG.prototype.on_pause_action=function(){1==this.show_on_pause&&this.is_widget_wrapper_dom_ready&&this.show_widget()},ENG.prototype.on_idle_action=function(){1==this.show_on_idle&&this.show_widget()},ENG.prototype.on_complete_action=function(){1==this.show_on_complete&&this.show_widget()},ENG.prototype.state_events=function(){this.is_load_recs_state()&&this.start_run()},ENG.prototype.is_load_recs_state=function(){var t=this.plr_get_state_fnc();return this.in_array(t,this.get_recs_states[this.plr_type])},ENG.prototype.show_widget=function(){this.jq("#eng_recs_holder_"+this.random_id).fadeIn("slow"),this.align_widget_elements()},ENG.prototype.hide_widget=function(t){try{this.jq("#eng_recs_holder_"+t.random_id).hide()}catch(t){}},ENG.prototype.attach_widget_events=function(){try{var t=this;this.load_real_imps_events(),this.widget_imgs_events(),this.widget_clicks_events(),this.posts_exclusion_box_events(),this.jq("#eng_ww_close_"+this.random_id).click(function(){t.hide_widget(t)})}catch(t){console.log("ERROR - events:"),console.log(t)}},ENG.prototype.widget_clicks_events=function(){this.attach_on_click_pixel_event(),this.attach_widget_engagement_event()},ENG.prototype.attach_widget_engagement_event=function(){var e=this,i=this.get_client_event_url(0);this.jq("#"+this.widget_wrapper_elm_id).click(function(){var t;e.is_widget_engagement_fired||((t=document.createElement("img")).src=i,t.style.display="none",this.appendChild(t)),e.is_widget_engagement_fired=!0})},ENG.prototype.get_client_event_url=function(t){var e="//"+this.client_event_url,i=this.data_json;return t==this.client_event_types.WIDGET_ENGAGEMENT&&(e+="?t="+t+"&spid="+i.srcPostId+"&swid="+i.srcWebsiteId+"&wid="+i.srcWidgetId+"&ucc="+i.requestGeoCountry),e},ENG.prototype.attach_on_click_pixel_event=function(){var e=this;if(e.click_pixels)try{for(var t=0;t<e.click_pixels.length;t++){for(var i=e.click_pixels[t],s=i.urls.split(";"),_="",n=0;n<s.length;n++)i.etype&&0!=i.etype?1==i.etype&&(_=s):_+='<img src="'+s[n]+'" style="display:none;" width="1px" height="1px" />';var o,r=".eng_widget_href,.eng_m_widget_href";0!=i.type&&(r=".eng_widget_href."+(o=e.rec_types[i.type])+",.eng_m_widget_href."+o),i.etype&&0!=i.etype?1==i.etype&&e.get_recs_holder_elm().find(r).mousedown({pxls:_},function(t){try{for(var e=t.data.pxls,i=0;i<e.length;i++){var s,_,n,o,r=e[i],a=r.match("engcval_(.*?)['|\"],");a&&1<a.length&&(s="engcval_"+a[1],_=".*?href=.*?"+a[1]+"=(.*?)&",n=this.outerHTML.match(_))&&n[1]&&(o=decodeURIComponent(n[1]),r=r.replace(s,o)),ga("send",r)}}catch(t){console.log("ERROR - ga click event"),console.log(t)}}):e.get_recs_holder_elm().find(r).mousedown({pxls:_},function(t){e.jq(this).append(t.data.pxls)})}}catch(t){console.log("ERROR - click pixel"),console.log(t)}},ENG.prototype.widget_imgs_events=function(){this.attach_on_img_error_event(),this.attach_on_hover_brand_img_event(),this.attach_on_img_load_event()},ENG.prototype.attach_on_hover_brand_img_event=function(){var t=this,e=this.get_add_data("brnd");e&&e.imghvr&&t.get_recs_holder_elm().hover(function(){t.jq(this).find("#eng_brnd_img_"+t.widget_id).attr("src",e.imghvr)},function(){t.jq(this).find("#eng_brnd_img_"+t.widget_id).attr("src",e.img.src)}),e&&e.img2hvr&&t.get_recs_holder_elm().hover(function(){t.jq(this).find("#eng_brnd_img2_"+t.widget_id).attr("src",e.img2hvr)},function(){t.jq(this).find("#eng_brnd_img2_"+t.widget_id).attr("src",e.img2.src)})},ENG.prototype.attach_on_img_load_event=function(){function t(){try{e.is_amp_widget&&e.amp_caller_obj&&e.amp_caller_obj.resizeAMPWidget()}catch(t){}}var e=this,i=e.get_recs_holder_elm().find(".eng_widget_img,.eng_m_widget_img");void 0!==i.error?i.load(t):i.on("load",t)},ENG.prototype.attach_on_img_error_event=function(){function t(){try{var t,e,i,s=+this.outerHTML.match(".*?_img_(.*?)_.*")[1],_=n.image_load_retries_arr[s];void 0===_&&(_=n.max_num_of_image_load_retries,n.image_load_retries_arr[s]=_),_<1?n.set_default_image(n,this):(n.image_load_retries_arr[s]--,t=this.src.match(".*?//.*?(/.*)")[1],e="",e=n.image_load_retries_arr[s]%2==0?n.aws_images_url+t:n.cdn_images_url+t,i=this,window.setTimeout(function(){i.src=e+"?"+ +new Date},300))}catch(t){console.log("ERROR:"),console.log(t),n.set_default_image(n,this)}}function e(){var t=this.outerHTML.match(".*?_img_(.*?)_.*");t&&(t[1],n.jq(this).unbind("error"))}var n=this,i=n.get_recs_holder_elm().find(".eng_widget_img,.eng_m_widget_img");void 0!==i.error?(i.error(t),i.load(e)):(i.on("error",t),i.on("load",e))},ENG.prototype.set_default_image=function(t,e){var i=Math.floor(3*Math.random()+1),i=t.custom_default_image||"//"+t.default_imgs_url+"def/def_"+i+".jpg";t.jq(e).unbind("error").attr("src",i)},ENG.prototype.start_run=function(){this.is_widget_allowed().then(t=>{t&&("complete"==document.readyState||"loaded"==document.readyState||"interactive"==document.readyState?this.doc_ready(this):this.inj_init_binding(this))})},ENG.prototype.generate_random_number=function(){return Math.ceil(1e7*Math.random())},ENG.prototype.doc_ready=function(t){t.doc_ready_called||(t.doc_ready_called=!0,t.load_jQuery(),t.validate_jquery_loaded(this))},ENG.prototype.validate_jquery_loaded=function(t){t.jq?t.inner_run():window.jQuery?(t.jq=window.jQuery,t.isNoConflictJquery&&console.log(jQuery.noConflict()),t.inner_run()):(t.num_of_jq_attempts--,0<t.num_of_jq_attempts&&window.setTimeout(function(){t.validate_jquery_loaded(t)},100))},ENG.prototype.load_jQuery=function(){window.jQuery?this.jq=window.jQuery:this.is_cancel_external_jquery_load_try||this.append_script_to_head("//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js","")},ENG_MULTI_WIDGETS.prototype.inner_run=function(t){var e=t||this;e.load_stories_files();for(var i=0;i<e.multi_widget_ids_arr.length;i++){var s=e.input_obj,_=e.multi_widget_ids_arr[i];s.wid=_,s.wwei=s.wweprfx+_,new ENG(s).run()}window[e.cb]=function(t){for(var e=0;e<_ENG_WIDGETS.length;e++)for(var i,s,_=0;_<t.length;_++)_ENG_WIDGETS[e].widget_id==t[_].widget.id&&(i=_ENG_WIDGETS[e],(s=t[_]).rndid=i.random_id,window[i.cb](s))};var t=e.get_page_url(),n=(e.get_lang(),e.get_page_ttl()),o=e.get_meta_content("keywords","content"),r=document.characterSet||document.charset,t="//"+e.multi_widgets_recs_url+"?cb="+e.cb+"&pubid="+e.publisher_id+"&webid="+e.website_id+"&mwids="+e.multi_widget_ids+"&recsnum="+e.num_of_slides+"&url="+t+"&cs="+r+"&subid="+e.subid+"&title="+n+"&kwrds="+o+"&rndid="+e.random_id+ipidKeyValue;e.append_script_to_head(t,e.random_id)},ENG.prototype.inner_run=function(t){var e=t||this;if(e.load_stories_files(),window[e.cb]=function(t){if(t){for(var e,i=null,s=!1,_=0;_<_ENG_WIDGETS.length;_++)if(void 0!==t.rndid&&_ENG_WIDGETS[_].random_id==t.rndid){i=_ENG_WIDGETS[_],t.widget.id=_ENG_WIDGETS[_].widget_id,s=!0;break}if(!s)for(_=0;_<_ENG_WIDGETS.length;_++)if(_ENG_WIDGETS[_].widget_id==t.widget.id){i=_ENG_WIDGETS[_],s=!0;break}i&&(i.data_json=t,i.widget_id=t.widget.id,e={widget:t.widget.additionalData||"{}",network:t.widget.anad||"{}"},i.populate_add_data(e),i.populate_widget_data(t),i.reposition_widget(),i.build_layout(),i.add_player_wmode(),i.attach_widget_events(),i.run_posts_preview(),i.run_widget_alignments(),i.widget_ready())}},e.widget_wrapper_elm=document.getElementById(e.widget_wrapper_elm_id),!e.widget_wrapper_elm)return 0<e.find_wrapper_elm_retries?(e.find_wrapper_elm_retries--,void window.setTimeout(function(){e.inner_run(e)},50)):void console.log("INFO: Couldn't find element "+e.widget_wrapper_elm_id);e.create_placement(),e.is_widget_wrapper_dom_ready=!0;var t=e.get_page_url(),i=e.get_lang(),s=e.get_page_ttl(),_=e.get_meta_content("keywords","content"),n=document.characterSet||document.charset,o="",r="";e.set_urls_for_pp(),e.is_multi_widgets||(1==e.is_index_page?(e.is_premium()&&(e.recs_url=e.recs_url_premium),o="//"+e.recs_url+"?cb="+e.cb+"&pubid="+e.publisher_id+"&webid="+e.website_id+"&wid="+e.widget_id+"&recsnum="+e.num_of_slides+"&url="+t+"&cs="+n+"&subid="+e.subid+"&title="+s+"&kwrds="+_+"&rndid="+e.random_id+ipidKeyValue,r="//"+e.pp_recs_url+"?cb=temp123&pubid="+e.publisher_id+"&webid="+e.website_id+"&wid="+e.widget_id+"&recsnum="+e.num_of_slides+"&url="+t+"&cs="+n+"&subid="+e.subid+"&title="+s+"&kwrds="+_+"&rndid="+e.random_id+ipidKeyValue):o="//"+e.feed_url+"?cb="+e.cb+"&format=json&action=paid&url="+t+"&count="+e.num_of_slides+"&min_count="+e.min_slides+"&is_xpath=0&lang="+i+"&cs="+n+"&pid="+e.pid+"&subid="+e.subid+"&title="+s+"&kwrds="+_,e.append_script_to_head(o,e.random_id),e.is_do_pp_recs_call&&r&&(window.temp123=function(){},e.append_script_to_head(r,"temp_"+e.random_id))),_ENG_WIDGETS.push(e)},ENG.prototype.load_stories_files=function(){this.load_stories_css_files(),this.load_stories_js_files()},ENG.prototype.load_stories_css_files=function(){for(var t=0;t<this.stories_css_files.length;t++)this.append_link_to_head(this.stories_css_path+this.stories_css_files[t],"","text/css","stylesheet",!0)},ENG.prototype.load_stories_js_files=function(s){var _,t;window.__eng_story_loaded||(window.__eng_story_loaded=!0,void 0===s&&(s=0),(_=this).stories_js_files[s]?(console.log("LOADING JS FILE: "+this.stories_js_files[s]),t=storiyaStagingEnv&&!isNaN(storiyaStagingEnv)?this.staging_stories_js_file_path.replace(this.staging_env_replace_key,storiyaStagingEnv.toString()):this.stories_js_path+this.stories_js_files[s],this.get_script(t,function(t,e,i){s++,_.load_stories_js_files(s)})):"undefined"!=typeof initStories&&(this.is_stories_js_loaded=!0))},ENG.prototype.set_urls_for_pp=function(){this.in_array(this.website_id,this.pp_recs_website_ids)&&(this.recs_url=this.recs_url.replace("recs","recs2"),this.event_url=this.event_url.replace("recs","recs2"))},ENG.prototype.load_real_imps_events=function(){var e,t=this.data_json.widget;t&&(1!=this.is_index_page||t.isRealImpressions)&&(e=this,t=function(){var t=e.is_elm_visible(e.widget_wrapper_elm);if(t&&!e.is_amp_widget){if(e.is_real_imps_called)return;e.is_real_imps_called=!0,1==e.is_index_page?e.fire_widget_real_impression_event(e):e.fire_real_impression_pixels()}return t},window.addEventListener?(addEventListener("DOMContentLoaded",t,!1),addEventListener("load",t,!1),addEventListener("scroll",t,!1),addEventListener("resize",t,!1)):window.attachEvent&&(attachEvent("onDOMContentLoaded",t),attachEvent("onload",t),attachEvent("onscroll",t),attachEvent("onresize",t)))},ENG.prototype.fire_widget_real_impression_event=function(t){t.fire_real_impression_pixels();var e=document.createElement("img");e.src=t.data_json.viewPxl;try{document.getElementsByTagName("head")[0].appendChild(e)}catch(t){console.log("ERROR - real imps:",t)}},ENG.prototype.run_srail=function(){this.is_run_ext_video_started||this.run_ext_video()},ENG.prototype.guid=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t();function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},ENG.prototype.get_srail_precall_url=function(){var t=this.jq(window).width(),e=this.jq(window).height(),i=this.generate_random_number(),s=window.location.host,_=this.guid();return"https://api.vidiom.net/player/"+this.ext_video_options.apiKey+"/"+this.ext_video_options.playerId+"?aw="+t+"&ah="+e+"&rand="+i+"&page_url="+this.get_page_url()+"&subid=&ddomain="+s+"&domain="+s+"&sid="+_+"&player_ver=bx_1055&sr_format=js"},ENG.prototype.run_criteo=function(){var t,e;this.get_add_data("criteo")&&((t=document.createElement("script")).type="text/javascript",t.src="//widget."+this.operator_name+".com/pos_crt_loader.js",(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e))},ENG.prototype.run_posts_preview=function(){try{var t,e,i,s=document.referrer,_=[];__eng__ppids_brnd="",s&&-1!=s.indexOf("_eng_ppids")&&(t=this.getQS(s))&&t._eng_ppids&&(_=t._eng_ppids.split(","),__eng__ppids_brnd=t._eng_dname),_&&0!=_.length||((e=this.get_cookie("_eng_ppids"))&&(_=e.split(",")),(i=this.get_cookie("_eng_dname"))&&(__eng__ppids_brnd=i)),_&&0<_.length&&this.get_posts_for_preview(_)}catch(t){}},ENG.prototype.run_ext_video=function(t,e,i){this.is_run_ext_video_started=!0;var s,_,n=this;if(e=void 0===e?"":e,-1==(i=void 0===i?-1:i)&&this.data_json.widget&&this.data_json.widget.esaData&&(this.data_json.widget.esaData[this.externalAdditionalDataTypes.STREAM_RAIL]?(i=this.externalAdditionalDataTypes.STREAM_RAIL,e=this.data_json.widget.esaData[this.externalAdditionalDataTypes.STREAM_RAIL]):this.data_json.widget.esaData[this.externalAdditionalDataTypes.ANY_VIEW]&&(i=this.externalAdditionalDataTypes.ANY_VIEW,e=this.data_json.widget.esaData[this.externalAdditionalDataTypes.ANY_VIEW])),e&&-1!=i)if(this.is_enough_space_for_ext_video())try{this.set_ext_video_final_player_dims();try{s=JSON.parse(e)}catch(t){return console.log("ERROR:"),void console.log(t)}this.ext_video_options=s,this.is_load_ext_video()&&(this.ext_video_player_type=i,_=this.get_srail_precall_url(),console.log(_),this.jq.get(_,function(t){t&&t.ads&&t.ads.schedule&&0<t.ads.schedule.length&&t.ads.schedule[0].server&&t.ads.schedule[0].server.tag&&t.ads.schedule[0].server.tag.v?n.is_ext_video_loaded||(n.is_ext_video_loaded=!0,n.load_srail_video()):console.log("NO VIDEO ADS")}))}catch(t){console.log("ERROR:"),console.log(t)}else(t=void 0===t?20:t)<0||window.setTimeout(function(){n.run_ext_video(--t,e,i)},100)},ENG.prototype.load_srail_video=function(){var t=this.jq(this.widget_wrapper_elm);this.ext_video_elm=this.generate_ext_video_elm(),0<t.length&&this.ext_video_elm&&(this.jq(t).append(this.ext_video_elm),this.build_video_ads_stories(),this.ext_video_player_type==this.externalAdditionalDataTypes.STREAM_RAIL?this.run_streamrail_video(this.ext_video_options):this.ext_video_player_type==this.externalAdditionalDataTypes.ANY_VIEW&&this.run_aniview_video(this.ext_video_options))},ENG.prototype.run_aniview_video=function(t){this.populate_aniview_placeholders(t),this.run_aniview_ads(t)},ENG.prototype.run_streamrail_video=function(t){this.populate_srail_placeholders(t),this.run_streamrail_ads(t)},ENG.prototype.get_srail_video_ad_duration=function(){return this.srPlayer&&this.srPlayer.adDuration&&!Number.isNaN(this.srPlayer.adDuration)&&0<this.srPlayer.adDuration?Math.ceil(this.srPlayer.adDuration):null},ENG.prototype.is_load_ext_video=function(){if(this.ext_video_options&&this.ext_video_options.pacingRatio&&+this.ext_video_options.pacingRatio<Math.random())return!1;return!this.is_widget_ext_video_already_loaded()},ENG.prototype.is_widget_ext_video_already_loaded=function(){for(var t=0;t<_ENG_WIDGETS.length;t++)if(_ENG_WIDGETS[t].widget_id==this.widget_id&&_ENG_WIDGETS[t].is_ext_video_loaded)return!0},ENG.prototype.populate_aniview_placeholders=function(t){var e=this.jq("#"+this.get_ext_video_elm_id());t.height=e.height(),t.width=e.width(),t.position=this.get_ext_video_elm_id()},ENG.prototype.populate_srail_placeholders=function(t){if(t&&t.macros)try{var e=this.jq("#"+this.get_ext_video_elm_id()),i=(t.macros.rand&&999==t.macros.rand&&(t.macros.rand=this.generate_random_number()),JSON.stringify(t.macros));i=(i=(i=(i=(i=(i=i.replace(this.place_holders.WIDTH,e.width())).replace(this.place_holders.HEIGHT,e.height())).replace(this.place_holders.DNT,document.location.hostname)).replace(this.place_holders.SUB_ID,this.widget_id)).replace(this.place_holders.PAGE_URL,this.get_page_url())).replace(this.place_holders.CACHE_BUSTER,this.generate_random_number()),t.macros=JSON.parse(i)}catch(t){console.log("ERROR:"),console.log(t)}},ENG.prototype.populate_place_holders=function(t){return t=-1!=(t=-1!=(t=-1!=(t=-1!=t.indexOf(this.place_holders.PAGE_URL)?t.replace(this.place_holders.PAGE_URL,this.get_page_url()):t).indexOf(this.place_holders.DNT)?t.replace(this.place_holders.DNT,document.location.hostname):t).indexOf(this.place_holders.CACHE_BUSTER)?t.replace(this.place_holders.CACHE_BUSTER,this.generate_random_number()):t).indexOf(this.place_holders.PAGE_TITLE)?t.replace(this.place_holders.PAGE_TITLE,this.get_page_ttl()):t},ENG.prototype.is_enough_space_for_ext_video=function(){return!0},ENG.prototype.set_ext_video_dims=function(){var t=this.jq(this.widget_wrapper_elm);t&&0<t.length&&(t=t.find(".eng_asw,.eng_m_asw"))&&0<t.length&&(this.ext_video_dims.height=t.height(),this.ext_video_dims.width=t.width(),console.log("DIMS- Height: "+this.ext_video_dims.height+", Width: "+this.ext_video_dims.width))},ENG.prototype.set_ext_video_final_player_dims=function(){this.ext_video_dims={width:this.jq(window).width(),height:this.jq(window).height()},console.log(this.ext_video_dims)},ENG.prototype.get_ext_video_elm_id=function(){return"eng_"+this.extVideoTypeNames[this.ext_video_player_type]+"_"+this.widget_id},ENG.prototype.get_ext_video_wrapper_elm_id=function(){return"eng_w_"+this.extVideoTypeNames[this.ext_video_player_type]+"_"+this.widget_id},ENG.prototype.run_aniview_ads=function(t){var e,i,s;_ENG_is_av_started_loading?this.wait_for_aniview_init(t,20):(_ENG_is_av_started_loading=!0,e=this,s=t,(new Image).src="https://track.aniview.com/track?pid="+s.publisherId+"&cid="+s.channelId+"&e=playerLoaded&cb="+Date.now(),t="https://player.aniview.com/script/6.1/aniview.js",(i=document.createElement("script")).src=t,i.onload=function(){e.init_aniview_player(s)},document.getElementsByTagName("head")[0].appendChild(i))},ENG.prototype.run_streamrail_ads=function(t){var e,i,s;this.is_sr_blade=t&&t.playerId,_ENG_is_sr_started_loading?this.wait_for_srail_init(t,20):(this.get_ext_video_elm_id(),_ENG_is_sr_started_loading=!0,window.srAsyncInit=function(){},t=this.is_sr_blade?"https://sdk.streamrail.com/blade/sr.bladex.js":"https://sdk.streamrail.com/player/sr.ads.js",e=document,i="streamrail-jssdk",t=t,s=e.getElementsByTagName("script")[0],e.getElementById(i)||((e=e.createElement("script")).id=i,e.src=t,s.parentNode.insertBefore(e,s)))},ENG.prototype.wait_for_aniview_init=function(t,e){var i;console.log("retries: "+e),e<0||(i=this,"undefined"==typeof avPlayer?window.setTimeout(function(){i.wait_for_aniview_init(t,--e)},100):i.init_aniview_player(t))},ENG.prototype.wait_for_srail_init=function(t,e){var i;console.log("retries: "+e),e<0||(i=this,"undefined"==typeof SR&&window.setTimeout(function(){i.wait_for_srail_init(t,--e)},100))},ENG.prototype.init_aniview_player=function(t){this.AVPlayer=new avPlayer(t),this.subscribe_avplayer_events(),this.AVPlayer.play()},ENG.prototype.init_srail_player=function(t){var e,i=this.get_ext_video_elm_id();this.is_sr_blade?(e=this,SR(i,this.ext_video_options).then(function(t){(e.srPlayer=t).resize(e.ext_video_dims.width,e.ext_video_dims.height),e.subscribe_srplayer_events()})):(this.srPlayer=SR(i,t),this.subscribe_srplayer_events())},ENG.prototype.subscribe_avplayer_events=function(){this.AVPlayer&&(this.attach_aniview_visibility_events(),this.attach_aniview_mouse_over_event(),this.attach_aniview_mouse_out_event())},ENG.prototype.attach_aniview_visibility_events=function(){this.AVPlayer;var e=this;this.AVPlayer.onPlay=function(t){e.animate_show_ext_video_player()},this.AVPlayer.onPlay100=this.AVPlayer.onClose=function(t){e.animate_hide_ext_video_player()}},ENG.prototype.subscribe_srplayer_events=function(){this.srPlayer&&(this.attach_srail_visibility_events(),this.attach_srail_mouse_over_event(),this.attach_srail_mouse_out_event())},ENG.prototype.attach_srail_visibility_events=function(){var e=this.srPlayer,i=this;this.ext_video_options;["viewable"].map(function(t){e.on(t,function(t){console.log("VIEWABLE"),e.resize()})}),["nonviewable"].map(function(t){e.on(t,function(t){console.log("NONE-VIEWABLE"),e.pause()})}),["playerReady"].map(function(t){e.on(t,function(t){console.log("PLAYER READY, HAS ADS: "+e.hasAds)})}),["AdBreakpoint"].map(function(t){e.on(t,function(t){console.log("Event AdBreakpoint"),e.hasAds&&(e.resize(),i.storiesWidget.updateVideoData(e,t))})}),["AdImpression"].map(function(t){e.on(t,function(t){console.log("Event AdImpression")})}),["AdVideoComplete"].map(function(t){e.on(t,function(t){console.log("Event AdVideoComplete"),i.video_ad_completed=!0})}),["AdPaused"].map(function(t){e.on(t,function(t){console.log("Event AdPaused")})}),["AdPlaying"].map(function(t){e.on(t,function(t){console.log("Event AdPlaying")})}),["AdVolumeChange"].map(function(t){e.on(t,function(t){})}),["stick"].map(function(t){e.on(t,function(t){})}),["unstick"].map(function(t){e.on(t,function(t){})})},ENG.prototype.play_srail_video=function(){!this.srPlayer||this.srPlayer.disposed||this.video_ad_completed||this.srPlayer.play()},ENG.prototype.pause_srail_video=function(){this.srPlayer&&!this.srPlayer.disposed&&this.srPlayer.pause()},ENG.prototype.stop_srail_video_ad=function(){this.srPlayer&&!this.srPlayer.disposed&&this.srPlayer.stopAd()},ENG.prototype.dispose_srail_player=function(){this.srPlayer&&(this.video_ad_completed=null,this.srPlayer.dispose())},ENG.prototype.attach_aniview_mouse_over_event=function(){var t=this,e=this.ext_video_options;this.jq("#"+this.get_ext_video_elm_id()).mouseover(function(){e&&e.unmuteOnHover&&t.AVPlayer.unmute()})},ENG.prototype.attach_srail_mouse_over_event=function(){var t=this,e=this.ext_video_options;this.jq("#"+this.get_ext_video_elm_id()).mouseover(function(){e&&e.unmuteOnHover&&(t.is_sr_blade?t.srPlayer.muted=!1:(t.srPlayer.muted(!1),t.srPlayer.volume(1)))})},ENG.prototype.attach_aniview_mouse_out_event=function(){var t=this,e=this.ext_video_options;this.jq("#"+this.get_ext_video_elm_id()).mouseout(function(){!t.AVPlayer.muted&&e.unmuteOnHover&&t.AVPlayer.mute()})},ENG.prototype.attach_srail_mouse_out_event=function(){var t=this,e=this.ext_video_options;this.jq("#"+this.get_ext_video_elm_id()).mouseout(function(){!e.unmuteOnHover||t.is_sr_blade&&!t.srPlayer.muted||t.is_sr_blade||t.srPlayer.muted()})},ENG.prototype.animate_show_ext_video_player=function(){var t=this.jq("#"+this.get_ext_video_elm_id()),e=this.jq("#"+this.get_ext_video_wrapper_elm_id());t.css("z-index",0),e.css("border-bottom","1px solid #ccc"),e.css("paddingTop","10px"),e.css("paddingBottom","10px"),t.animate({marginTop:"0px",opacity:1},1e3)},ENG.prototype.animate_hide_ext_video_player=function(){var t=this.jq("#"+this.get_ext_video_elm_id()),e=this.jq("#"+this.get_ext_video_wrapper_elm_id());t.animate({marginTop:"-"+this.ext_video_dims.height+"px",opacity:0},500,function(){e.hide()})},ENG.prototype.generate_ext_video_elm=function(){var t=this.extVideoTypeNames[this.ext_video_player_type],e=document.createElement("div"),i="eng_"+t+"_"+this.widget_id,s=(e.id=i,e.className="eng_"+t,document.createElement("style")),i=(s.type="text/css","#"+i+"{width:100%;height:100%;}"),i=(s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i)),document.createElement("div"));return i.id="eng_w_"+t+"_"+this.widget_id,i.className="eng_w_"+t,i.appendChild(e),i.appendChild(s),i},ENG.prototype.run_widget_alignments=function(){this.align_widget_text_height(),this.align_widget_dims()},ENG.prototype.align_widget_text_height=function(){var i,t,s;this.is_align_widget_text_height&&(i=-1,t=this.jq(this.widget_wrapper_elm).find(".eng_inner .eng_widget_in,.eng_ads .eng_widget_in"),(s=this).jq.each(t,function(t,e){s.jq(e).height()&&(i=Math.max(s.jq(e).height(),i))}),0<i)&&this.jq(this.widget_wrapper_elm).find(".eng_inner .eng_widget_in,.eng_ads .eng_widget_in").css("min-height",i)},ENG.prototype.align_widget_dims=function(t){try{if(!((t=void 0===t?this.num_of_align_dims_retries:t)<0)){for(var i,e,s,_=!0,n=0;n<this.visible_posts_and_types.length;n++){var o=this.visible_posts_and_types[n];if(o&&o.pi&&this.in_array(o.pi,this.align_dims_post_ids)){_=!0;break}}_&&(i=-1,e=this.jq(this.widget_wrapper_elm).find(".eng_inner .eng_widget_img,.eng_inner .eng_m_widget_img"),s=this,0<e.length?i=this.jq(e[0]).height():(e=this.jq(this.widget_wrapper_elm).find(".eng_widget_img,.eng_m_widget_img"),this.jq.each(e,function(t,e){s.jq(e).height()<300&&(i=Math.max(s.jq(e).height(),i))})),50<i?(e=this.jq(this.widget_wrapper_elm).find(".eng_widget_img,.eng_m_widget_img"),this.jq.each(e,function(t,e){e=s.jq(e);e.height()!=i&&e.height(i)})):window.setTimeout(function(){s.align_widget_dims(--t)},100))}}catch(t){console.log("ERROR - widget align dims:"),console.log(t)}},ENG.prototype.get_posts_for_preview=function(t){var e=this.shuffle_array(t);if(this.total_slides){window[this.get_post_cb]=function(t){var e,i,s,_,n,o=_ENG_WIDGETS[0],r=o.jq(".eng_widget_href:not(.eng_test_ppid),.eng_m_widget_href:not(.eng_test_ppid)");r&&0<r.length&&(r=(o=o.jq(r[0])).find(".eng_widget_img, eng_m_widget_img"),e=o.find(".eng_widget_in,.eng_m_widget_in"),i=o.find(".eng_m_widget_in"),_=o.find(".eng_widget_is,.eng_m_widget_is"),s=o.find(".eng_widget_dn,.eng_m_widget_dn"),n=r.attr("src").match(".*_([0-9]*)..*"))&&n[1]&&(n=n[1],o.attr("href",t.url),o.attr("onmousedown",""),_.text(t.title),_=t.thumbnailPath.replace(/(.*_)([0-9]*)(\..*)/,"$1"+n+"$3"),r.attr("src",_),o.addClass("eng_test_ppid"),n=decodeURIComponent(__eng__ppids_brnd),s&&0<s.length?s.text(n):(r=i&&0<i.length?"eng_m_widget_dn":"eng_widget_dn",e.append('<span class="'+r+'">'+n+"</span>"))),console.log(t)};for(var i=Math.min(e.length,this.total_slides),s=0;s<i;s++){var _=e[s];this.append_script_to_head("//"+this.eng_api_pref+"."+this.operator_name+".com/rec-api/getPost.json?cb="+this.get_post_cb+"&PostId="+_,"")}}},ENG.prototype.shuffle_array=function(t){for(var e=t.length-1;0<e;e--){var i=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[i],t[i]=s}return t},ENG.prototype.get_cookie=function(t){t=document.cookie.match(RegExp("(?:^|;\\s*)"+t.replace(/([.*+?\^${}()|\[\]\/\\])/g,"\\$1")+"=([^;]*)"));return t?t[1]:null},ENG.prototype.get_slide_elm_by_idx=function(t){return document.getElementById("eng_sw_"+t+"_"+this.widget_id)||document.getElementById("eng_m_sw_"+t+"_"+this.widget_id)},ENG.prototype.widget_ready=function(){this.widget_ready_cb&&this.widget_ready_cb(),this.amp_widget_cb&&this.amp_widget_cb(this)},ENG.prototype.isShouldBeRTL=function(e){try{-1!=e.indexOf("&#")&&(e=this.decode_html(e));if(!e.match(/[\u0590-\u083F]|[\u08A0-\u08FF]|[\uFB1D-\uFDFF]|[\uFE70-\uFEFF]/gm))return!1}catch(t){console.log("ERROR: text direction - "+e)}return!0},ENG.prototype.decode_html=function(e){try{return this.jq("<textarea/>").html(e).text()}catch(t){return e}},ENG.prototype.external_is_amp_elm_visible=function(t){try{return 100<t.height}catch(t){return!1}},ENG.prototype.is_elm_visible=function(t){t=t.getBoundingClientRect();try{return 100<t.bottom&&0<t.right&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)-100}catch(t){return!1}},ENG.prototype.is_premium=function(){try{var t=this.publisher_id,e=this.premium_pub_ids;return t&&this.in_array(t,e)?!0:!1}catch(t){return!1}},ENG.prototype.populate_widget_data=function(t){try{var e=t.widget,i=e.layoutTypeId,s=(this.widget_img_size=26==i?4:2,this.vertical_widget_img_size=null,this.get_add_data("jsvls"));s&&s.vcis&&this.is_mobile_conditions_satisfied()&&(this.vertical_widget_img_size=s.vcis),this.is_order_by_post_id&&this.sort_results_by_post_id(),3==e.returnRecsTypeId&&(this.is_super_native=!0)}catch(t){console.log("ERROR - widget data:"),console.log(t)}},ENG.prototype.sort_results_by_post_id=function(){var t,e=this.data_json.srcWebsiteId,i=this.jq.extend({},this.data_json.recs),s=[];for(t in i)i[t].partner_id==e&&s.push(i[t]);s.sort(function(t,e){return e.postId-t.postId});for(var _=0;_<this.data_json.recs.length;_++)this.data_json.recs[_].partner_id==e&&s[_]&&(this.data_json.recs[_]=s[_])},ENG.prototype.reposition_widget=function(){if(this.widget_wrapper_positioning_obj){var t=this.widget_wrapper_positioning_obj.elm,e=this.widget_wrapper_positioning_obj.type;if(0<this.jq(t).length){var i=this.jq(this.widget_wrapper_elm).detach();switch(e){case 0:i.appendTo(t);break;case 1:i.prependTo(t);break;case 2:i.insertAfter(t);break;case 3:i.insertBefore(t);break;default:i.appendTo(t)}this.width=null,this.calculate_widget_wrapper_dims()}}},ENG.prototype.populate_add_data=function(t){try{var e=JSON.parse(t.widget.replace(/\[rid\]/g,this.random_id)),i=JSON.parse(t.network.replace(/\[rid\]/g,this.random_id)),s=(!e.brnd&&i&&i.brnd&&(e.brnd=i.brnd),this.widget_add_data=e,this.widget_add_data.jcss||{}),_=this.widget_add_data.jsvls||{},n=this.widget_add_data.gtags,o=this.widget_add_data.yndx;this.is_show_exclude_box=_.issexbox||!1,this.slide_height=s.sh||(this.is_video_widget?150:115),this.slide_width=s.sw||(this.is_video_widget?200:140),this.slide_horz_margin=s.shm||10,this.widget_lpadding=s.wlp||(this.is_video_widget?15:0),this.widget_rpadding=s.wrp||(this.is_video_widget?15:0),this.widget_rmargin=s.wrm||(this.is_video_widget?2:0),this.widget_lmargin=s.wlm||(this.is_video_widget?2:0),this.slides_wrapper_lpadding=s.swlp||0,this.slides_wrapper_rpadding=s.swrp||0,this.slides_wrapper_lmargin=s.swlm||0,this.slides_wrapper_rmargin=s.swrm||0,this.slide_bpadding=s.sbp||(this.is_video_widget?15:5),this.slide_tpadding=s.stp||(this.is_video_widget?15:5),this.widget_txt_direction=s.wtdir||null,this.widget_img_size=_.cis||2,this.num_of_slides_a_row=_.spr||(this.is_video_widget?3:null),this.num_of_mobile_slides_a_row=_.mspr||(this.is_video_widget?3:null),this.is_cancel_click_bubble=_.iccb||!1,this.max_width_for_mobile=_.mwfm||420,this.is_vertical_mobile_widget=void 0===_.ivmw||0!=_.ivmw,this.is_force_vertical_layout=_.ifvl||!1,this.num_of_mobile_slides=_.noms||6,this.is_default_brand=!this.website_id||this.website_id<127432?_.isdb:void 0===_.isdb||0!=_.isdb,this.title_elm_type=_.ttlelm||"div",this.width=_.rplcwidth&&_.rplcwidthval&&_.rplcwidth==Math.floor(this.width)?_.rplcwidthval:this.width,this.widget_wrapper_positioning_obj=_.wwpo||null,this.max_width_for_tablet_cls=_.mwftc||null,this.image_size_for_rec_num=_.cisfrm||null,this.is_order_by_post_id=_.iobpi||null,this.custom_default_image=_.cdi||null,this.is_description_span=_.idesc||null,this.is_links_open_new_window=_.inw||null,this.max_description_chars=_.mdc||1e3,this.max_mobile_description_chars=_.mmdc||1e3,this.max_abstract_chars=_.mabsc||500,this.max_mobile_abstract_chars=_.mmabsc||500,this.max_title_chars=_.mtc||100,this.max_mobile_title_chars=_.mmtc||150,this.postfix_for_cutted_description=null!=_.pfcd?_.pfcd:"...",this.postfix_for_cutted_title=null!=_.pfct?_.pfct:"...",this.postfix_for_cutted_abstract=null!=_.pfcabs?_.pfcabs:"...",this.is_meta_tags_span=_.imtag||null,this.is_default_images=!_.idi,this.is_align_widget_text_height=void 0!==_.iawth&&_.iawth,this.google_tags=n,this.yandex_tag=o,this.is_cover_image=void 0===_.icimg||_.icimg,this.stickiness_policy=void 0!==_.stknsplcy?_.stknsplcy:null,this.text_lines_limit=_.txtlmt||4}catch(t){console.log("ERROR - additional data:"),console.log(t)}},ENG.prototype.get_add_data=function(t){return this.widget_add_data&&this.widget_add_data[t]?this.widget_add_data[t]:null},ENG.prototype.set_add_data=function(t,e){this.widget_add_data[t]=e},ENG.prototype.add_player_wmode=function(){},ENG.prototype.get_page_url=function(){var t;return this.input_url||(t=document.location.href,this.is_in_iframe()&&(t=document.referrer||t),encodeURIComponent(t))},ENG.prototype.get_total_slides=function(t,e){for(var i=this.num_of_slides_a_row*t;e<i&&1<t;)i=this.num_of_slides_a_row*--t;return i=e<(i=this.is_mobile_conditions_satisfied()?this.num_of_mobile_slides||i:i)?e:i},ENG.prototype.get_script=function(t,e){this.jq.ajax({type:"GET",url:t,success:e,scriptCharset:"utf-8",dataType:"script",cache:!0})},ENG.prototype.logger=function(t,e){!this.log_printout||this.log_printout!=this.log_types.ALL&&!this.in_array(t,this.log_printout)||console.log(t+": "+e)},ENG.prototype.generate_img_pixel=function(t){var e=document.createElement("img");e.width=1,e.height=1,e.src=t,this.widget_wrapper_elm.appendChild(e)},ENG.prototype.is_mobile_conditions_satisfied=function(){return!!(!this.is_video_widget&&this.is_mobile()&&this.width<this.max_width_for_mobile)},ENG.prototype.build_layout=function(){this.start_stories_widget_new()},ENG.prototype.start_stories_widget_new=function(){var t=this;"undefined"!=typeof initStories?this.storiesWidget=initStories({data:this.data_json,mountTarget:this.widget_wrapper_elm_id}):(retries="undefined"==typeof retries?this.load_stories_js_num_of_retries:retries)<0||window.setTimeout(function(){console.log("Retrying load stories JS "+retries),t.start_stories_widget_new(--retries)},100)},ENG.prototype.attach_widget_header=function(){var t="You might also enjoy"==this.data_json.widget.headerText?"Stories":this.data_json.widget.headerText,t="<"+this.title_elm_type+' class="eng_s_ww_title" id="eng_s_ww_title_'+this.random_id+'"><span class="eng_s_ww_ttl_span1">'+t+'</span><span class="eng_s_ww_ttl_span2"></span></'+this.title_elm_type+">";this.jq(this.widget_wrapper_elm).prepend(t)},ENG.prototype.start_stories_widget=function(t){var e=this;this.is_stories_js_loaded?(this.storiesWidget=new Zuck(this.get_recs_holder_elm().attr("id"),this.stories_widget_data,this),this.run_srail()):(t=void 0===t?this.load_stories_js_num_of_retries:t)<0||window.setTimeout(function(){console.log("Retrying load stories JS "+t),e.start_stories_widget(--t)},100)},ENG.prototype.build_stories_css=function(){var t=this.get_recs_holder_elm(),e=this.get_default_css("STORY",this.widget_wrapper_elm_id),i=this.get_add_data("css")||"";t.append("<style>"+e+i+"</style>")},ENG.prototype.build_stories_widget_data=function(){this.stories_widget_data={backNative:!0,previousTap:!0,autoFullScreen:this.stories_skin.autoFullScreen,skin:this.stories_skin.name,avatars:this.stories_skin.avatars,list:this.stories_skin.list,cubeEffect:this.stories_skin.cubeEffect,localStorage:!0,isCoverImage:this.is_cover_image,stickinessPolicy:this.stickiness_policy,textLinesLimit:this.text_lines_limit,stories:this.stories}},ENG.prototype.build_stories_skin=function(){this.stories_skin={name:"Snapgram",avatars:!0,list:!1,autoFullScreen:!1,cubeEffect:!0}},ENG.prototype.build_stories=function(){for(var t=this.data_json.recs,e=0;e<t.length;e++){var i=this.build_story(t[e]);this.stories.push(i)}},ENG.prototype.build_video_ads_stories=function(){for(var t in this.video_ads_tiles)try{for(var e=!1,i=this.video_ads_tiles[t];!e&&i<this.stories.length-1;){var s=this.stories[i-1],_=this.stories[i];_&&"eng_story_ads"==_.recType||s&&"eng_story_ads"==s.recType?i++:(console.log("FOUND AVAILABLE IDX FOR STORY VIDEO AD AT IDX: "+i),e=!0,this.generate_and_push_video_ad_story(i))}}catch(t){console.log(t)}},ENG.prototype.generate_and_push_video_example_story=function(t){var e={id:123,photo:"",name:"",link:"",recType:"eng_story_inner",lastUpdated:(new Date).getTime()/1e3,isNewWindow:!1,engType:""},i=[{id:"123",type:"video",length:10,src:"http://techslides.com/demos/sample-videos/small.mp4",time:(new Date).getTime()/1e3,seen:!1}];e.items=i,this.stories.splice(t,0,e),this.storiesWidget.add(e,!0,t)},ENG.prototype.generate_and_push_video_ad_story=function(t){var e={id:"videoAdStory",photo:"",name:"",link:"",recType:"eng_story_ads",lastUpdated:(new Date).getTime()/1e3,isNewWindow:!0,engType:"video_ad"},i=[{id:"videoAdItem",type:"videoAd",length:10,time:(new Date).getTime()/1e3,seen:!1,openLinkInIframe:!0}];e.items=i,this.stories.splice(t,0,e),this.storiesWidget.add(e,!0,t)},ENG.prototype.build_story=function(t){var e={id:t.postId,photo:t.thumbnail_path,name:t.title,link:"",recType:this.get_story_rec_type(t),lastUpdated:null!=t.idt?t.idt/1e3:(new Date).getTime()/1e3,isNewWindow:this.data_json.srcWebsiteId!=t.partner_id&&!this.is_preset_rec(t)};return e.items=this.get_story_items(t),this.add_rec_level_pixels_to_story(e,t),e},ENG.prototype.add_rec_level_pixels_to_story=function(t,e){t&&t.items&&t.items[0]&&(t=t.items[0])&&(e=this.get_rec_level_pixels(e),t.clickPixels=t.clickPixels.concat(e.clickPixels),t.impressionPixels=t.impressionPixels.concat(e.impressionPixels),t.impressionPixelsJS=t.impressionPixelsJS.concat(e.impressionPixelsJS))},ENG.prototype.get_story_items=function(t){return this.generate_story_items(t)},ENG.prototype.generate_story_items=function(t){var e=[];if(t.storyItems&&0<t.storyItems.length)for(var i in t.storyItems)e.push(this.generate_story_item(t,t.storyItems[i]));else e.push(this.generate_story_item_for_none_story_rec(t));return e.sort(function(t,e){return t.time-e.time}),e},ENG.prototype.generate_story_item=function(t,e){var i=e[this.story_item_params.ID],s=this.get_story_item_type(e[this.story_item_params.TYPE_ID]),_=e[this.story_item_params.LENGTH],n=e[this.story_item_params.IMAGE_SOURCE],o=e[this.story_item_params.PREVIEW],r=e[this.story_item_params.LINK],a=t.clickUrl,d=e[this.story_item_params.LINK_TEXT],l=e[this.story_item_params.TIME],e=e[this.story_item_params.ADDITIONAL_DATA];try{var p=e?JSON.parse(e):null}catch(t){console.log("ERROR:"),console.log(t)}return{id:i,type:s,length:_,src:n,preview:o,link:r,clickUrl:a,linkText:d,time:null!=l?l/1e3:(new Date).getTime()/1e3,seen:!1,displayName:this.get_display_name(t),actionText:p&&p.actionText?p.actionText:"",clickPixels:p&&p.clickPixels?p.clickPixels:[],impressionPixels:p&&p.impressionPixels?p.impressionPixels:[],impressionPixelsJS:p&&p.impressionPixelsJS?p.impressionPixelsJS:[],isOpenInFrame:!(!p||!p.isOpenInFrame)&&p.isOpenInFrame}},ENG.prototype.generate_story_item_for_none_story_rec=function(t){return{id:t.postId+"_1",type:"photo",length:8,src:t.thumbnail_path,preview:"",link:t.url,clickUrl:t.clickUrl,linkText:t.title,time:null!=t.idt?t.idt/1e3:(new Date).getTime()/1e3,actionText:"",clickPixels:[],impressionPixels:[],impressionPixelsJS:[],seen:!1,displayName:this.get_display_name(t)}},ENG.prototype.get_story_item_type=function(t){return this.story_item_types_map[t]},ENG.prototype.get_exclude_posts_box_elms=function(t){return this.is_show_exclude_box||1==this.data_json.ltid&&"eng_inner"==this.get_rec_type(t)?'<div class="eng_excludebox_wrapper" data-id="'+t.postId+'">'+'<div class="eng_excludebox_title">Remove</div><div class="eng_excludebox_question_main"><div class="eng_excludebox_question"><div class="eng_excludebox_question_title">Tell us why?</div>'+this.get_exclude_reasons_elms()+"</div></div></div>":""},ENG.prototype.get_exclude_reasons_elms=function(){for(var t="",e=0;e<this.exclude_posts_reasons_arr.length;e++)var i=this.exclude_posts_reasons_arr[e],t=(t+='<label><input type="radio" name="excludeReason" class="eng_exclude_reason" value="'+i.val+'" onchange="this.checked = true;">'+i.title+"</label>")+(e+1<this.exclude_posts_reasons_arr.length?"<br>":"");return t},ENG.prototype.get_default_css=function(t,e){var i="",s=this.get_add_data("vpost"),_=s&&s.pimg?s.pimg:"//"+this.default_video_post_btn;switch(t){case"DESKTOP":i="#"+e+" .eng_top_ww_widget{}#"+e+" .eng_ww_widget{display:inline-block;direction:"+this.widget_txt_direction+";position:relative;margin-bottom:2px;margin-left:"+this.widget_lmargin+"px;margin-right:"+this.widget_rmargin+"px;text-align:center;padding-left:"+this.widget_lpadding+"px;padding-right:"+this.widget_rpadding+"px;padding-top:"+this.slide_tpadding+"px;padding-bottom:"+this.slide_bpadding+"px;}#"+e+" .eng_ww_title{text-align:"+this.widget_direction+";}#"+e+" .eng_ww_close{position:absolute;top:8px;"+this.widget_op_direction+":8px;cursor:pointer;font-size:22px;}#"+e+" .eng_asw{display:block;margin-left:"+this.slides_wrapper_lmargin+"px;margin-right:"+this.slides_wrapper_rmargin+"px;padding-left:"+this.slides_wrapper_lpadding+"px;padding-right:"+this.slides_wrapper_rpadding+"px;z-index:2;}#"+e+" .eng_widget_sw{width:"+this.slide_width+"px;text-align:"+this.widget_direction+";position:relative;display:inline-block;margin-"+this.widget_direction+":"+this.slide_horz_margin+"px;z-index:2;}#"+e+" .eng_widget_in{width:100%;}#"+e+" .eng_widget_is{}#"+e+" .eng_widget_dn{font-size:10px;text-decoration:none !important;display:inline-block;width:100%;}#"+e+" .eng_widget_img{width:100%;height:auto;border-radius:inherit;margin-bottom:5px;}#"+e+" .eng_widget_href{border-radius:inherit;}#"+e+" .eng_rows_seperator{height:10px;}#"+e+" .eng_branding{text-align:"+this.widget_op_direction+";margin:8px 0px 0px 0px;}#"+e+" .eng_branding a{color:#BBB;font-size:12px;font-family:arial;}#"+e+" .eng_user_exclude_btn{display:none;}#"+e+" .eng_widget_sw:hover .eng_user_exclude_btn{display:block;background:url(//widget."+this.operator_name+".com/img/X4.jpg) no-repeat scroll 0 0 transparent;width:14px;height:14px;position:absolute;right:2px;top:2px;z-index:9000;}#"+e+" .eng_excludebox_question_main{background:#fff!important;font-family:Arial, Helvetica, sans-serif!important;font-weight:normal!important;font-size:12px!important;color:#000000!important;padding-bottom:5px!important;padding-top:5px!important;padding-right:7px!important;padding-left:12px!important;}#"+e+" .eng_excludebox_title{text-align:center;padding:8px 14px!important;font-weight:bold!important;border-bottom:1px solid #F8A649!important;font-family:Arial, Helvetica, sans-serif;font-size:12px!important;background:#F8A649!important;color:#fff!important;}#"+e+" .eng_excludebox_question_title{font-family:Arial, Helvetica, sans-serif!important;font-weight:normal!important;font-size:12px!important;color:#000000!important;margin-bottom:5px!important;}#"+e+" .eng_excludebox_question{font-family:Arial, Helvetica, sans-serif!important;font-weight:normal!important;font-size:12px!important;color:#000000!important;}#"+e+" .eng_excludebox_wrapper{z-index:1;display:none;background:#fff;position:absolute;top:15px;right:5px;height:160px;width:135px;}#"+e+" .eng_exclude_reason{vertical-align:top;}#"+e+" .eng_user_undo_btn{background:none!important;color:#000!important;font-family:Arial,Helvetica,sans-serif!important;font-size:10px!important;line-height:14px!important;font-weight:400!important;text-decoration:underline!important;position:absolute!important;right:15px!important;top:1px!important;}#"+e+" .eng_aniview,#"+e+" .eng_srail{position:relative;bottom:0px;left:0;right:0;opacity:0;z-index:-1;box-sizing:content-box;margin-left:auto;margin-right:auto;}#"+e+" .eng_w_aniview,#"+e+" .eng_w_srail{display:none;border-color:#ccc;box-sizing: content-box;}";break;case"DESKTOP_NON_VIDEO":i="#"+e+" .eng_ww_widget{color:#000;}#"+e+" .eng_widget_sw{vertical-align:top;margin-bottom:10px}#"+e+" .eng_widget_vsw .eng_widget_img_w::after{content:'';background-image: url("+_+");position:absolute;left:40%;top:42%;width:35px;height:26px;z-index:2;}#"+e+" .eng_widget_href{position:relative;display:block !important;visibility:visible !important;}#"+e+" .eng_widget_in{width:100%;line-height:1.4;}#"+e+" .eng_widget_dn{color:#CDCDCD;}#"+e+" .eng_ww_title{padding:0px;margin:0px 0px 5px 0px;}#"+e+" .eng_ww_ttl_span1{display:block;padding:5px 0px;float:none !important;}#"+e+" .eng_widget_img_w{position:relative;}#"+e+" .eng_widget_img{margin-bottom:5px;display:block;}";break;case"DESKTOP_VIDEO":i="#"+e+" .eng_ww_widget{background-color:rgba(1, 1, 1, 0.9);color:#FFF;}#"+e+" .eng_widget_in{position:absolute;background-color:rgba(36,36,36,0.8);color:#FFF;font-size:12px;line-height:normal !important;bottom:0px;}#"+e+" .eng_widget_sw{height:"+this.slide_height+"px;}#"+e+" .eng_widget_dn{}#"+e+" .eng_widget_is{display:block;padding: 2px 5px 2px 5px;}#"+e+" .eng_ww_title{padding:0px 0px 5px 0px;font-size:15px;}";break;case"MOBILE_VERTICAL":i="#"+e+" .eng_m_top_ww_widget{}#"+e+" .eng_m_ww_widget{display:inline-block;direction:"+this.widget_txt_direction+";position:relative;margin-bottom:2px;margin-left:"+this.widget_lmargin+"px;margin-right:"+this.widget_rmargin+"px;text-align:center;padding-left:"+this.widget_lpadding+"px;padding-right:"+this.widget_rpadding+"px;padding-top:"+this.slide_tpadding+"px;padding-bottom:"+this.slide_bpadding+"px;}#"+e+" .eng_m_ww_title{padding:0px 0px 5px 0px;text-align:"+this.widget_direction+";}#"+e+" .eng_m_asw{position:relative;display:block;margin-left:"+this.slides_wrapper_lmargin+"px;margin-right:"+this.slides_wrapper_rmargin+"px;padding-left:"+this.slides_wrapper_lpadding+"px;padding-right:"+this.slides_wrapper_rpadding+"px;z-index:2;}#"+e+" .eng_m_widget_sw{width:100%;padding-bottom:8px;z-index:2;}#"+e+" .eng_m_widget_vsw .eng_m_widget_img_w::after{content:'';background-image: url("+_+");position:absolute;"+this.widget_direction+":37%;top:42%;width:35px;height:26px;z-index:2;}#"+e+" .eng_m_widget_in{width:57%;display:inline-block;vertical-align:top;text-align:"+this.widget_direction+";}#"+e+" .eng_m_widget_is{line-height:1.4;}#"+e+" .eng_m_widget_dn{font-size:10px;padding:5px 5px 3px 0px;color:#999999;display:block;}#"+e+" .eng_m_widget_img_w{width:40%;margin-"+this.widget_op_direction+":3%;display:inline-block;position:relative;}#"+e+" .eng_m_widget_img{width:100%;}#"+e+" .eng_m_ww_ttl_span1{display:block;padding:5px 0px;float:none !important;}#"+e+" .eng_m_widget_href{border-radius:inherit;display:block !important;visibility:visible !important;}#"+e+" .eng_m_rows_seperator{height:8px;}#"+e+" .eng_m_branding{text-align:"+this.widget_op_direction+";margin:8px 0px 0px 0px;}#"+e+" .eng_aniview,#"+e+" .eng_srail{position:relative;bottom:0px;left:0;right:0;opacity:0;z-index:-1;box-sizing:content-box;margin-left:auto;margin-right:auto;}#"+e+" .eng_w_aniview,#"+e+" .eng_w_srail{border-color:#ccc;box-sizing: content-box;}#"+e+" .eng_m_branding a{color:#BBB;font-size:12px;font-family:arial;}";break;case"VIDEO_ONLY":i="#"+this.widget_wrapper_elm_id+"{visibility:hidden;}#"+e+" .eng_ww_widget{margin:0;padding:0;}#"+e+" .eng_widget_sw{margin:0px;}#"+e+" .eng_widget_in{display:none;}#"+e+" .eng_ww_close{padding:0px 7px;z-index:11111;background:#000;"+this.widget_op_direction+":0px;top:initial;color:#FFF;}#"+e+" .eng_ww_title{display:none;}";break;case"STORY":i="#"+e+" .eng_story_ads{display:none;}.stories.carousel .story>a>.info {text-overflow:unset}#"+e+" .eng_w_srail{border-color:#ccc;box-sizing: content-box;}#"+e+" .eng_srail{position:relative;bottom:0px;left:0;right:0;box-sizing:content-box;margin-left:auto;margin-right:auto;}#"+e+" .eng_s_ww_title{padding:5px 0px 0px 0px;text-align:"+this.widget_direction+";}#"+e+" .eng_s_ww_ttl_span1{display: block;padding: 0px 15px;float: none !important;font-weight: bold;font-size: 15px;font-family: sans-serif;}"}return i},ENG.prototype.get_description=function(t){if(t){var e=t.description;if(this.is_super_native){if(!t.sNPData||!t.sNPData.desc)return;e=t.sNPData.desc}try{var i=this.is_mobile_conditions_satisfied()?this.max_mobile_description_chars:this.max_description_chars;e&&e.length>i&&(e=e.replace("...",""),e=this.shorten_string(e,i),e+=this.postfix_for_cutted_description)}catch(t){console.log("ERROR"),console.log(t)}return e}},ENG.prototype.get_abstract=function(t){if(t){var e="";if(this.is_super_native){if(!t.sNPData||!t.sNPData.abs)return;e=t.sNPData.abs;try{var i=this.is_mobile_conditions_satisfied()?this.max_mobile_abstract_chars:this.max_abstract_chars;e&&e.length>i&&(e=e.replace("...",""),e=this.shorten_string(e,i),e+=this.postfix_for_cutted_abstract)}catch(t){console.log("ERROR"),console.log(t)}}return e}},ENG.prototype.get_ad_brand=function(t){if(!t)return"";var e="";if(this.is_super_native){var i="";try{if(!(i=t.sNPData&&t.sNPData.adbrnd?t.sNPData.adbrnd:i))return"";var s=!1;i.href&&(s=!0,e+='<a id="eng_href_adbrnd_'+this.widget_id+'" class="eng_href_adbrnd" href="'+i.href+'" title="'+i.ttl+'" target=_blank">'),e+='<span id="eng_span_adbrnd_'+this.widget_id+'" class="eng_span_adbrnd">'+i.ttl,i.img&&(e+='<img src="'+i.img+'"/>'),e+="</span>",s&&(e+="</a>")}catch(t){console.log("ERROR"),console.log(t)}}return e},ENG.prototype.get_title=function(t){if(t){t=t.title;try{var e=this.is_mobile_conditions_satisfied()?this.max_mobile_title_chars:this.max_title_chars;t&&t.length>e&&(t=this.shorten_string(t,e),t+=this.postfix_for_cutted_title)}catch(t){console.log("ERROR"),console.log(t)}return t}},ENG.prototype.shorten_string=function(t,e){e=(t=(t=t.substring(0,e)).trim()).lastIndexOf(" "),e=(t=t.substring(0,e)).charAt(t.length-1);return t=","!=e&&"."!=e&&"-"!=e&&"|"!=e?t:t.substring(0,t.length-1).trim()},ENG.prototype.get_meta_tag_obj=function(t){if(t){var e={label:"",id:""};try{t.metatagLabels&&t.metatags&&(e.label=t.metatagLabels[0]||"",e.id=t.metatags.split(",")[0]||"",e.label=e.label.replace(/\^/g," "))}catch(t){console.log("ERROR"),console.log(t)}return e}},ENG.prototype.get_click_defs=function(t,e){var e=this.get_href_target(t.partner_id,e),i=this.get_cancle_click_bubble(),s='onclick="'+i+'"',_=!!t.ajx,n="",o=t.clickUrl,r=this.array_to_csv(this.ad_click_pixels),a=(this.ad_click_pixels=[],this.get_rec_type(t)==this.rec_types[1]?"":'rel="nofollow" ');return _?(window.ajx_sprk_click=function(t){},n+=e+" "+a+'href="'+t.url+'" '+s+' title="'+t.title+'" onmousedown="_eng_do_async_click(\''+o+"');_eng_fire_async_pixels('"+r+"');"+i+'return true;">'):(this.is_in_iframe()&&(_=this.get_page_url())&&(o=o+"&cr="+(_=encodeURIComponent(decodeURIComponent(_)))),n+=e+" "+a+'href="'+t.url+'" '+s+' title="'+t.title+'" onmousedown="_eng_fire_async_pixels(\''+r+"');this.href='"+o+"';"+i+'return true;">'),n},ENG.prototype.array_to_csv=function(t){for(var e="",i=0;i<t.length;i++)e+=t[i],i!=t.length-1&&(e+=",");return e},ENG.prototype.get_rec_type=function(t){return"eng_"+t.recType.split("_")[1].toLowerCase()},ENG.prototype.get_story_rec_type=function(t){return"eng_story_"+t.recType.split("_")[1].toLowerCase()},ENG.prototype.is_video_post=function(t){var e=!1,i=this.get_add_data("vpost");return e=i&&i.drgx?null!=t.url.match(i.drgx):e},ENG.prototype.get_rec_level_pixels=function(t){var e={impressionPixels:[],clickPixels:[],impressionPixelsJS:[]};if(t.impressionUrls&&0!=t.impressionUrls.length){var i=t.impressionUrls;if(i&&null!=i&&0<i.length)for(var s=0;s<i.length;s++)for(var _=i[s].split("^"),n=0;n<_.length;n++){var o,r=_[n];(-1!=r.indexOf(this.pixels_consts.ENG_PIXEL_TRACK_RIMP_JS)?(o=r.replace(this.pixels_consts.ENG_PIXEL_TRACK_RIMP_JS,""),e.impressionPixelsJS):-1!=r.indexOf(this.pixels_consts.ENG_PIXEL_TRACK_CLK)?(o=r.replace(this.pixels_consts.ENG_PIXEL_TRACK_CLK,""),e.clickPixels):-1!=r.indexOf(this.pixels_consts.ENG_PIXEL_TRACK_RIMP)?(o=r.replace(this.pixels_consts.ENG_PIXEL_TRACK_RIMP,""),e.impressionPixels):-1!=r.indexOf(this.pixels_consts.ENG_PIXEL_TRACK_IMP_JS)?(o=r.replace(this.pixels_consts.ENG_PIXEL_TRACK_IMP_JS,""),e.impressionPixelsJS):(o=r.replace(this.pixels_consts.ENG_PIXEL_TRACK_IMP,""),e.impressionPixels)).push(o)}}return e},ENG.prototype.get_display_name=function(t){var e="",i=+t.recTypeDB;return e=this.in_array(i,[2,3,4,8,18,19,20,21,30,31,32])?this.shorten(t.displayName,20):e},ENG.prototype.is_preset_rec=function(t){return!(!t||24!=+t.recTypeDB)},ENG.prototype.get_link_name=function(t){var e="";return e=this.is_super_native&&t.sNPData&&t.sNPData.lnkTtl?t.sNPData.lnkTtl:e},ENG.prototype.populate_widget_directions=function(){this.widget_txt_direction=this.widget_txt_direction||this.get_recs_holder_elm().css("direction");var t="rtl"==this.widget_txt_direction;this.widget_direction=t?"right":"left",this.widget_op_direction=t?"left":"right"},ENG.prototype.get_cancle_click_bubble=function(){return this.is_cancel_click_bubble?"event&&event.cancelBubble&&(event.cancelBubble=true);event&&event.stopPropagation&&(event.stopPropagation());":""},ENG.prototype.get_recs_holder_elm=function(){return this.jq("#eng_recs_holder_"+this.random_id)},ENG.prototype.align_widget_elements=function(){this.align_widget_title()},ENG.prototype.get_widget_branding=function(){var t,e=null;this.get_add_data("jsvls");return(e=this.is_default_brand?{href:"//www."+this.operator_name+".com",name:this.operator_name,ttl:this.operator_name,img:""}:this.get_add_data("brnd")||{href:"",name:"",ttl:"",img:"",adds:""}).adds||(e.adds=""),e.img&&(t=e.img,e.img='<img id="eng_brnd_img_'+this.widget_id+'" class="eng_brnd_img" src="'+t.src+'" width="'+t.width+'px" height="'+t.height+'px"/>'),e},ENG.prototype.is_mobile=function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},ENG.prototype.get_tablet_cls=function(){var t="";return t=this.is_tablet_conditions_satisfied()?" eng_tablet":t},ENG.prototype.is_tablet_conditions_satisfied=function(){return!!(this.is_mobile()&&!this.is_mobile_conditions_satisfied()&&this.max_width_for_tablet_cls&&this.max_width_for_tablet_cls>=this.width)},ENG.prototype.get_mobile_device_OS=function(){if(this.is_mobile())return navigator.userAgent.match(/Android/i)?"android":navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":"other"},ENG.prototype.align_widget_title=function(){},ENG.prototype.get_thumb=function(t,e,i,s){var _,n=this.widget_img_size,o=4,r=3;if(this.vertical_widget_img_size&&(n=this.vertical_widget_img_size,o=17),this.image_size_for_rec_num)if(o=17,this.image_size_for_rec_num.phone&&this.is_mobile_conditions_satisfied())for(var a=0;a<this.image_size_for_rec_num.phone.length;a++)this.image_size_for_rec_num.phone[a][0]==s&&(n=this.image_size_for_rec_num.phone[a][1]);else if(this.image_size_for_rec_num.tablet&&this.is_tablet_conditions_satisfied())for(a=0;a<this.image_size_for_rec_num.tablet.length;a++)this.image_size_for_rec_num.tablet[a][0]==s&&(n=this.image_size_for_rec_num.tablet[a][1]);else if(this.image_size_for_rec_num.desktop)for(a=0;a<this.image_size_for_rec_num.desktop.length;a++)this.image_size_for_rec_num.desktop[a][0]==s&&(n=this.image_size_for_rec_num.desktop[a][1]);if(e)for(a=1;a<=o;a++)if(a!=n&&-1!=(_=e.lastIndexOf("_"+a+"."))){10<=a&&(r=4),e=e.substr(0,_)+"_"+n+"."+e.substr(_+r);break}return e},ENG.prototype.shorten=function(t,e){var i,s;return t?(i=t.length,-1==(s=t.indexOf(" ",e))?i<=e?t:t.substring(0,e)+"...":((sS=t.substring(0,s)).length<i&&(sS+="..."),sS)):""},ENG.prototype.click=function(t,e,i){return t.href=e,!0},ENG.prototype.get_href_target=function(t,e){var i="";return t!=e||this.is_links_open_new_window?i='target="_blank"':this.is_in_iframe()&&(i='target="_parent"'),i},ENG.prototype.is_in_iframe=function(){return window.self!==window.top},ENG.prototype.is_start_of_row=function(t,e){return t%e==0},ENG.prototype.add_row_if_required=function(t,e,i){return t%e==0&&t!=i?'<div style="clear: both" class="eng_rows_seperator"></div>':""},ENG.prototype.floor_figure=function(t,e){e=e||2;var i=Math.pow(10,e);return(parseInt(t*i)/i).toFixed(e)},ENG.prototype.calc_slides_dims=function(){try{var t,e=this.width-this.widget_lpadding-this.widget_rpadding-this.widget_rmargin-this.widget_lmargin-this.slides_wrapper_lpadding-this.slides_wrapper_rpadding-this.slides_wrapper_lmargin-this.slides_wrapper_rmargin,i=Math.floor(e/this.slide_width),s=Math.floor((e-(i-1)*this.slide_horz_margin)/this.slide_width),_=(this.get_add_data("jsvls"),this.is_mobile_conditions_satisfied()?this.num_of_slides_a_row=this.num_of_mobile_slides_a_row||s:this.num_of_slides_a_row=this.num_of_slides_a_row||s,this.get_add_data("jcss"));0==this.num_of_slides_a_row&&99<e&&(this.slide_width=e,this.num_of_slides_a_row=1),this.is_video_widget||!(1<this.num_of_slides_a_row)||_&&_.sw||(t=(e-this.num_of_slides_a_row*this.slide_width-this.slide_horz_margin*(this.num_of_slides_a_row-1))/this.num_of_slides_a_row+this.slide_width,this.slide_width=this.floor_figure(t,2))}catch(t){this.num_of_slides_a_row=1,console.log("ERROR"),console.log(t)}},ENG.prototype.populate_required_fields=function(){this.calculate_widget_wrapper_dims()},ENG.prototype.calculate_widget_wrapper_dims=function(){var t=1==this.is_video_widget?document.getElementById(this.plr_elm_id):this.widget_wrapper_elm,e=t=t||this.widget_wrapper_elm,i=(this.width=this.width||this.jq(t).width(),this.get_exact_width(t));i&&(this.width=i),this.height=this.height||this.jq(t).height();try{for(;t&&(0===this.height||this.height<100)&&this.jq(t).parent();)t&&(t=this.jq(t).parent().get(0),this.height=this.jq(t).height());for(t=e;t&&(0===this.width||this.width<100)&&this.jq(t).parent()&&(t=this.jq(t).parent().get(0))!==document;)t&&(this.width=this.jq(t).width(),i=this.get_exact_width(t),this.width=i||this.width)}catch(t){console.log("ERROR"),console.log(t)}},ENG.prototype.get_exact_width=function(t){t=this.jq(t)[0].getBoundingClientRect().width;return t&&0<Math.abs(t-this.width)&&Math.abs(t-this.width)<1?t:null},ENG.prototype.create_placement=function(){this.populate_required_fields();var t=document.createElement("div"),t=(t.id="eng_recs_holder_"+this.random_id,t.className="eng_recs_holder",this.widget_wrapper_elm.appendChild(t),document.createElement("style")),e=(t.type="text/css",this.is_video_widget?"none":"block"),i="#eng_recs_holder_"+this.random_id+" .eng_widget_sw:hover{zoom:1;filter:alpha(opacity=100);opacity:1;-webkit-filter: brightness(120%);filter: brightness(1.2);}#eng_recs_holder_"+this.random_id+" .eng_widget_sw{filter:alpha(opacity=90);opacity:0.9;}#eng_recs_holder_"+this.random_id+"{height:"+(this.height-40)+"px;-webkit-transform-style: preserve-3d;-moz-transform-style: preserve-3d;transform-style: preserve-3d;}#eng_top_ww_widget_"+this.random_id+"{position: relative;top: 50%;transform: translateY(-50%);width: 100%;}",s="";this.is_video_widget&&(this.jq(this.widget_wrapper_elm).parent().css("position","relative"),s=s+i+".eng_recs_holder{width: 100%;top:0px;position: absolute;text-align:center;z-index:999999;background-color: rgba(1, 1, 1, 0.6);}#eng_recs_holder_"+this.random_id+"{display:"+e+";}.eng_recs_holder a{text-decoration:none;}"),t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s)),document.getElementsByTagName("head")[0].appendChild(t)},ENG.prototype.get_page_ttl=function(){var t="",e=document.getElementsByTagName("title");if(e&&0<e.length)try{t=(t=e[0].innerText||e[0].textContent).substring(0,100).substring(0,t.lastIndexOf(" ")),t=encodeURIComponent(t)}catch(t){}return t},ENG.prototype.get_meta_content=function(t,e){for(var i=document.getElementsByTagName("meta"),s="",_=0;_<i.length;_++)if(i[_].getAttribute("property")==t||i[_].getAttribute("name")==t){try{s=(s=i[_].getAttribute(e)).substring(0,200).substring(0,s.lastIndexOf(" ")),s=encodeURIComponent(s)}catch(t){}break}return s},ENG.prototype.get_lang=function(){return window.navigator.userLanguage||window.navigator.language},ENG.prototype.append_script_to_head=function(t,e){var i=document.createElement("script"),e=(i.type="text/javascript",i.id=e,i.src=t,i.charset="UTF-8",i.async=!0,document.getElementsByTagName("head")[0]);e.parentNode.insertBefore(i,e)},ENG.prototype.append_link_to_head=function(t,e,i,s,_){var n=document.createElement("link"),i=(n.type=i,n.id=e,n.href=t,n.rel=s,n.async=_,document.getElementsByTagName("head")[0]);i.parentNode.insertBefore(n,i)},ENG.prototype.getQS=function(t){var t=t.replace(/^[^\?]+\??/,""),e=new Object;if(t)for(var i=t.split(/[;&]/),s=0;s<i.length;s++){for(var _=i[s].replace(/(pid=.*)=.*/,"$1"),n=i[s].length-_.length,o=0;o<n;o++)_+="%3D";var r,a=_.split(/=(.*)/);!a||a.length<2||(r=unescape(a[0]),a=(a=a[1]).replace(/\+/g," "),e[r]=a)}return e},ENG.prototype.inj_init_binding=function(t){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t.doc_ready(t),!1);else if(document.attachEvent){try{var e=null!=window.frameElement}catch(t){}document.documentElement.doScroll&&!e&&!function e(){if(!called)try{document.documentElement.doScroll("left"),t.doc_ready(t)}catch(t){setTimeout(e,10)}}(),document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t.doc_ready(t)})}},ENG.prototype.in_array=function(t,e){for(var i in e)if(e[i]==t)return!0;return!1},function(t){var e=document.createElement("script");e.type="text/javascript",e.src=t,document.getElementsByTagName("head")[0].appendChild(e)}),_eng_fire_async_pixels=function(t){if(t)for(var e=t.split(","),i=0;i<e.length;i++){var s=e[i],_=document.createElement("img");_.src=s;try{document.getElementsByTagName("head")[0].appendChild(_)}catch(t){console.log("ERROR - click pixel:"),console.log(t)}}};ENG.prototype.fire_real_impression_pixels=function(){for(var t=0;t<this.ad_real_impression_pixels.length;t++){var e=document.createElement("img");e.src=this.ad_real_impression_pixels[t];try{document.getElementsByTagName("head")[0].appendChild(e)}catch(t){console.log("ERROR - pixel:"),console.log(t)}}this.ad_real_impression_pixels=[],this.fire_real_impression_js_pixels()},ENG.prototype.fire_real_impression_js_pixels=function(){for(var t=0;t<this.ad_real_impression_js_pixels.length;t++)try{this.append_script_to_head(ad_real_impression_js_pixels,"")}catch(t){console.log("ERROR - pixel:"),console.log(t)}this.ad_real_impression_js_pixels=[]},ENG.prototype.posts_exclusion_box_events=function(){var s=this;!this.is_show_exclude_box&&1!=this.data_json.ltid||(this.jq(this.widget_wrapper_elm).find(".eng_exclude_reason").click(function(t){var e=s.jq(this).parents(".eng_widget_sw"),i=(e.find(".eng_excludebox_question,.eng_user_exclude_btn").css("display","none"),e.find(".eng_excludebox_wrapper")),e=(i.css("height","100px"),e.find(".eng_excludebox_question_main").html(s.exclude_posts_box_default_thank_you),i.delay(2500).fadeOut(500,function(){}),i.attr("data-id")),i=s.jq(this).val();s.fire_exclude_event(e,i)}),this.jq(this.widget_wrapper_elm).find(".eng_user_exclude_btn").click(function(t){t.preventDefault();t=s.jq(this).parents(".eng_widget_sw");s.jq(this).hasClass("eng_user_undo_btn")?(s.jq(this).toggleClass("eng_user_undo_btn"),t.find(".eng_excludebox_wrapper").css("display","none"),t.find(".eng_widget_in,.eng_widget_img").css("opacity","1"),s.jq(this).text("")):(s.jq(this).toggleClass("eng_user_undo_btn"),t.find(".eng_excludebox_wrapper").css("display","block"),t.find(".eng_widget_in,.eng_widget_img").css("opacity","0.3"),s.jq(this).text("Undo"))}))},ENG.prototype.fire_exclude_event=function(t,e){var i;t&&e&&(i=1==this.data_json.ltid?this.exclude_post_adn_url:this.exclude_post_url,this.append_script_to_head("//"+i+"?pid="+t+"&rsnid="+e))},function(){function i(t,e){switch(t){case"createStoryWidget":new ENG(e).run();break;case"createStoryMultiWidgets":return void e.mwids.split(",").forEach(t=>{t={wwei:e.wweprfx+t,pubid:e.pubid,webid:e.webid,wid:parseInt(t)};e.on&&(t.on=e.on),i("createStoryWidget",t)})}}var t,e=window.EngStoryObject;window[e].l;for(t in window[e].q){var s=window[e].q[t],_=s[0],s=s[1];i(_,s)}window[e]=i}();